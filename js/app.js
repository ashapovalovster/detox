"use strict";$(function(){$(".jsSandwich").click(function(){$(this).toggleClass("sandwich--active"),$(".menu").toggleClass("menu--active"),$("body").toggleClass("body--no-scroll")});var e=$("#callbackModal"),o=$(".jsOpenModalBtn"),t=$("#closeModalBtn"),s=($("#callbackForm"),$("#userPhone"),$("#userName")),c=$("body"),n=$("#formMessage");o.on("click",function(){e.addClass("active"),c.css("overflow","hidden"),n.hide().empty()}),t.on("click",function(){e.removeClass("active"),c.css("overflow","")}),e.on("click",function(e){e.target===this&&($(this).removeClass("active"),c.css("overflow",""))}),$(document).on("keydown",function(o){"Escape"===o.key&&e.hasClass("active")&&(e.removeClass("active"),c.css("overflow",""))}),o.on("click",function(){setTimeout(function(){s.focus()},300)});var a=$("#callbackForm"),i=$("#userPhone"),l=$("#userName");$("body"),$("#callbackModal");a.on("submit",function(e){e.preventDefault();var o=l.val().trim(),t=i.val().trim(),s=$("#formError");s.hide().text(""),o&&t?fetch("handler.php",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({name:o,phone:t})}).then(function(e){return e.json()}).then(function(e){e.success?(a.hide(),$(".modal__subtitle").hide(),$(".modal__header").html("Ваша заявка принята.")):s.text(e.message||"Ошибка отправки формы").show()}).catch(function(){s.text("Техническая ошибка, попробуйте позже.").show()}):s.text("Заполните все поля.").show()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7JChmdW5jdGlvbigpeyQoXCIuanNTYW5kd2ljaFwiKS5jbGljayhmdW5jdGlvbigpeyQodGhpcykudG9nZ2xlQ2xhc3MoXCJzYW5kd2ljaC0tYWN0aXZlXCIpLCQoXCIubWVudVwiKS50b2dnbGVDbGFzcyhcIm1lbnUtLWFjdGl2ZVwiKSwkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcImJvZHktLW5vLXNjcm9sbFwiKX0pO3ZhciBlPSQoXCIjY2FsbGJhY2tNb2RhbFwiKSxvPSQoXCIuanNPcGVuTW9kYWxCdG5cIiksdD0kKFwiI2Nsb3NlTW9kYWxCdG5cIikscz0oJChcIiNjYWxsYmFja0Zvcm1cIiksJChcIiN1c2VyUGhvbmVcIiksJChcIiN1c2VyTmFtZVwiKSksYz0kKFwiYm9keVwiKSxuPSQoXCIjZm9ybU1lc3NhZ2VcIik7by5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLmFkZENsYXNzKFwiYWN0aXZlXCIpLGMuY3NzKFwib3ZlcmZsb3dcIixcImhpZGRlblwiKSxuLmhpZGUoKS5lbXB0eSgpfSksdC5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtlLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLGMuY3NzKFwib3ZlcmZsb3dcIixcIlwiKX0pLGUub24oXCJjbGlja1wiLGZ1bmN0aW9uKGUpe2UudGFyZ2V0PT09dGhpcyYmKCQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksYy5jc3MoXCJvdmVyZmxvd1wiLFwiXCIpKX0pLCQoZG9jdW1lbnQpLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKG8pe1wiRXNjYXBlXCI9PT1vLmtleSYmZS5oYXNDbGFzcyhcImFjdGl2ZVwiKSYmKGUucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksYy5jc3MoXCJvdmVyZmxvd1wiLFwiXCIpKX0pLG8ub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3MuZm9jdXMoKX0sMzAwKX0pO3ZhciBhPSQoXCIjY2FsbGJhY2tGb3JtXCIpLGk9JChcIiN1c2VyUGhvbmVcIiksbD0kKFwiI3VzZXJOYW1lXCIpOyQoXCJib2R5XCIpLCQoXCIjY2FsbGJhY2tNb2RhbFwiKTthLm9uKFwic3VibWl0XCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBvPWwudmFsKCkudHJpbSgpLHQ9aS52YWwoKS50cmltKCkscz0kKFwiI2Zvcm1FcnJvclwiKTtzLmhpZGUoKS50ZXh0KFwiXCIpLG8mJnQ/ZmV0Y2goXCJoYW5kbGVyLnBocFwiLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOFwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtuYW1lOm8scGhvbmU6dH0pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5qc29uKCl9KS50aGVuKGZ1bmN0aW9uKGUpe2Uuc3VjY2Vzcz8oYS5oaWRlKCksJChcIi5tb2RhbF9fc3VidGl0bGVcIikuaGlkZSgpLCQoXCIubW9kYWxfX2hlYWRlclwiKS5odG1sKFwi0JLQsNGI0LAg0LfQsNGP0LLQutCwINC/0YDQuNC90Y/RgtCwLlwiKSk6cy50ZXh0KGUubWVzc2FnZXx8XCLQntGI0LjQsdC60LAg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLXCIpLnNob3coKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cy50ZXh0KFwi0KLQtdGF0L3QuNGH0LXRgdC60LDRjyDQvtGI0LjQsdC60LAsINC/0L7Qv9GA0L7QsdGD0LnRgtC1INC/0L7Qt9C20LUuXCIpLnNob3coKX0pOnMudGV4dChcItCX0LDQv9C+0LvQvdC40YLQtSDQstGB0LUg0L/QvtC70Y8uXCIpLnNob3coKX0pfSk7Il0sImZpbGUiOiJhcHAuanMifQ==
